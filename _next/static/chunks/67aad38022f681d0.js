(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18597,a=>{"use strict";let e=["Perlis","Kedah","Pulau Pinang","Perak","Kuala Lumpur","Selangor","Negeri Sembilan","Melaka","Johor","Kelantan","Terengganu","Pahang","Sarawak - Kuching","Sarawak - Sibu","Sarawak - Miri","Sarawak - Bintulu","Sabah - Kota Kinabalu","Sabah - Sandakan","Sabah - Tawau"],l=[...e.filter(a=>!a.includes(" - ")),"Luar Negara"];a.s(["AGAMA_ASAL_OPTIONS",0,["Animisme","Atheis","Buddha","Hindu","Kristian","Taoisme","Lain-lain"],"BANGSA_OPTIONS",0,["Cina","India","Serani","Punjabi","Kadazan","Dusun","Bajau","Murut","Iban","Bidayuh","Melanau","Orang Asli","Lain-lain"],"BANK_OPTIONS",0,["Maybank","CIMB Bank","Public Bank","RHB Bank","Hong Leong Bank","AmBank","Bank Islam","Bank Rakyat","BSN (Bank Simpanan Nasional)","OCBC Bank","HSBC Bank","Standard Chartered","UOB (United Overseas Bank)","Affin Bank","Alliance Bank","Bank Muamalat","MBSB Bank","Agro Bank","Lain-lain"],"DEFAULT_RATE_CATEGORIES",0,[{kategori:"MUALAF 1",jumlahElaun:15,jenisPembayaran:"bayaran/kelas",jenis:"mualaf"},{kategori:"MUALAF 2",jumlahElaun:30,jenisPembayaran:"bayaran/kelas",jenis:"mualaf"},{kategori:"MUALAF 3",jumlahElaun:50,jenisPembayaran:"bayaran/kelas",jenis:"mualaf"},{kategori:"GURU 1",jumlahElaun:50,jenisPembayaran:"bayaran/kelas",jenis:"petugas"},{kategori:"GURU 2",jumlahElaun:80,jenisPembayaran:"bayaran/kelas",jenis:"petugas"},{kategori:"GURU 3",jumlahElaun:160,jenisPembayaran:"bayaran/kelas",jenis:"petugas"},{kategori:"KOORDINATOR",jumlahElaun:100,jenisPembayaran:"bayaran/bulan",jenis:"petugas"},{kategori:"PETUGAS",jumlahElaun:30,jenisPembayaran:"bayaran/kelas",jenis:"petugas"},{kategori:"SUKARELAWAN 1",jumlahElaun:0,jenisPembayaran:"bayaran/kelas",jenis:"petugas"},{kategori:"SUKARELAWAN 2",jumlahElaun:0,jenisPembayaran:"bayaran/kelas",jenis:"petugas"},{kategori:"SUKARELAWAN 3",jumlahElaun:0,jenisPembayaran:"bayaran/kelas",jenis:"petugas"}],"JANTINA_OPTIONS",0,[{value:"Lelaki",label:"Lelaki"},{value:"Perempuan",label:"Perempuan"}],"KATEGORI_OPTIONS",0,[{value:"Pengislaman",label:"Pengislaman",description:"Pendaftaran pengislaman yang dikendalikan oleh HCF"},{value:"Sokongan",label:"Sokongan",description:"Pendaftaran mualaf yang tidak memeluk Islam dengan HCF tetapi disantunani / diberi sokongan atau mengikuti kelas HCF"},{value:"Non-Muslim",label:"Non-Muslim",description:"Pendaftaran non-muslim yang disantuni atau mengikuti kelas pengajian (Isi maklumat yang berkaitan sahaja)"},{value:"Anak Mualaf",label:"Anak Mualaf",description:"Anak kepada ibu bapa mualaf"}],"MUALAF_KATEGORI_ELAUN",0,[{value:"MUALAF 1",label:"MUALAF 1"},{value:"MUALAF 2",label:"MUALAF 2"},{value:"MUALAF 3",label:"MUALAF 3"}],"NEGERI_CAWANGAN_OPTIONS",0,e,"NEGERI_PENGISLAMAN_OPTIONS",0,l,"PETUGAS_KATEGORI_ELAUN",0,[{value:"GURU 1",label:"GURU 1"},{value:"GURU 2",label:"GURU 2"},{value:"GURU 3",label:"GURU 3"},{value:"KOORDINATOR",label:"KOORDINATOR"},{value:"PETUGAS",label:"PETUGAS"},{value:"SUKARELAWAN 1",label:"SUKARELAWAN 1"},{value:"SUKARELAWAN 2",label:"SUKARELAWAN 2"},{value:"SUKARELAWAN 3",label:"SUKARELAWAN 3"}],"TAHAP_PENDIDIKAN_OPTIONS",0,["PhD","Sarjana","Ijazah","Diploma","STPM","SPM","PMR","Sekolah Rendah","Tidak Bersekolah"],"WARGANEGARA_OPTIONS",0,["Malaysia","Indonesia","Filipina","Thailand","Myanmar","Vietnam","China","India","Bangladesh","Pakistan","Nepal","Lain-lain"]])},63209,a=>{"use strict";let e=(0,a.i(75254).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>e],63209)},27612,a=>{"use strict";let e=(0,a.i(75254).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);a.s(["Trash2",()=>e],27612)},7233,92930,a=>{"use strict";var e=a.i(75254);let l=(0,e.default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>l],7233);let n=(0,e.default)("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);a.s(["Edit2",()=>n],92930)},69031,a=>{"use strict";var e=a.i(43476),l=a.i(71645),n=a.i(83375),t=a.i(46254),s=a.i(18597),r=a.i(13826),i=a.i(75460),d=a.i(12426),u=a.i(7233),m=a.i(92930),c=a.i(27612),o=a.i(37727),x=a.i(63209);function h(){let{user:a,role:h}=(0,n.useAuth)(),[g,b]=(0,l.useState)([]),[p,j]=(0,l.useState)(!0),[y,k]=(0,l.useState)("all"),[f,N]=(0,l.useState)(!1),[A,v]=(0,l.useState)(null),[w,P]=(0,l.useState)({kategori:"",jumlahElaun:0,jenisPembayaran:"bayaran/kelas",jenis:"petugas"});(0,l.useEffect)(()=>{E()},[]);let E=async()=>{j(!0);let{data:a,error:e}=await (0,t.getRateCategories)();e?console.error("Error loading rates:",e):b(a),j(!1)},S=async()=>{if(!confirm("Adakah anda pasti mahu memulakan kadar elaun dengan nilai default? Ini tidak akan memadam data sedia ada."))return;j(!0);let{error:e}=await (0,t.initializeDefaultRates)(s.DEFAULT_RATE_CATEGORIES,a.uid);e?alert("Ralat: "+e):(alert("Kadar elaun default berjaya ditambah!"),E()),j(!1)},U=async e=>{e.preventDefault();try{if(A){let{error:e}=await (0,t.updateRateCategory)(A.id,w,a.uid);if(e)throw Error(e)}else{let{error:e}=await (0,t.createRateCategory)(w,a.uid);if(e)throw Error(e)}N(!1),T(),E()}catch(a){console.error("Error saving rate:",a),alert("Ralat menyimpan data kadar elaun: "+a.message)}},R=async a=>{if(confirm("Adakah anda pasti mahu memadam kadar elaun ini?")){let{error:e}=await (0,t.deleteRateCategory)(a);e?alert("Ralat memadam data: "+e):E()}},M=(a=null)=>{a?(v(a),P({kategori:a.kategori||"",jumlahElaun:a.jumlahElaun||0,jenisPembayaran:a.jenisPembayaran||"bayaran/kelas",jenis:a.jenis||"petugas"})):(v(null),T()),N(!0)},T=()=>{P({kategori:"",jumlahElaun:0,jenisPembayaran:"bayaran/kelas",jenis:"petugas"})},O=g.filter(a=>"all"===y||a.jenis===y),B=O.filter(a=>"mualaf"===a.jenis),C=O.filter(a=>"petugas"===a.jenis);return"admin"!==h?(0,e.jsx)(i.default,{children:(0,e.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,e.jsx)(r.default,{}),(0,e.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,e.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[(0,e.jsx)(x.AlertCircle,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),(0,e.jsx)("h2",{className:"text-xl font-bold text-red-900 mb-2",children:"Akses Ditolak"}),(0,e.jsx)("p",{className:"text-red-700",children:"Halaman ini hanya boleh diakses oleh pentadbir sahaja."})]})})]})}):(0,e.jsx)(i.default,{children:(0,e.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,e.jsx)(r.default,{}),(0,e.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,e.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-6 gap-4",children:[(0,e.jsxs)("div",{children:[(0,e.jsxs)("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[(0,e.jsx)(d.DollarSign,{className:"h-6 w-6 mr-2 text-emerald-600"}),"Pengurusan Kadar Elaun"]}),(0,e.jsx)("p",{className:"text-gray-500 text-sm mt-1",children:"Penetapan kadar elaun untuk Mualaf dan Petugas"})]}),(0,e.jsxs)("div",{className:"flex items-center space-x-3",children:[0===g.length&&(0,e.jsxs)("button",{onClick:S,className:"bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center hover:bg-blue-700 shadow-sm transition-colors",children:[(0,e.jsx)(u.Plus,{className:"h-5 w-5 mr-1"})," Mula dengan Default"]}),(0,e.jsxs)("button",{onClick:()=>M(),className:"bg-emerald-600 text-white px-4 py-2 rounded-lg flex items-center hover:bg-emerald-700 shadow-sm transition-colors",children:[(0,e.jsx)(u.Plus,{className:"h-5 w-5 mr-1"})," Tambah Kadar"]})]})]}),(0,e.jsxs)("div",{className:"bg-white rounded-lg shadow mb-6 p-1 flex gap-2",children:[(0,e.jsxs)("button",{onClick:()=>k("all"),className:`flex-1 py-2 px-4 rounded-md transition-colors ${"all"===y?"bg-emerald-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:["Semua (",g.length,")"]}),(0,e.jsxs)("button",{onClick:()=>k("mualaf"),className:`flex-1 py-2 px-4 rounded-md transition-colors ${"mualaf"===y?"bg-emerald-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:["Mualaf (",B.length,")"]}),(0,e.jsxs)("button",{onClick:()=>k("petugas"),className:`flex-1 py-2 px-4 rounded-md transition-colors ${"petugas"===y?"bg-emerald-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:["Petugas (",C.length,")"]})]}),(0,e.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6 flex items-start",children:[(0,e.jsx)(x.AlertCircle,{className:"h-5 w-5 text-blue-600 mr-3 mt-0.5 flex-shrink-0"}),(0,e.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,e.jsx)("p",{className:"font-medium mb-1",children:"Nota Penting:"}),(0,e.jsx)("p",{children:"* Sila rujuk Unit Pembangunan Mualaf untuk penetapan kadar elaun yang betul"}),(0,e.jsx)("p",{children:"* Kadar ini akan digunakan untuk pengiraan bayaran/elaun secara automatik"})]})]}),p?(0,e.jsx)("div",{className:"text-center py-10",children:"Loading..."}):0===O.length?(0,e.jsx)("div",{className:"bg-white rounded-lg shadow p-8 text-center text-gray-500",children:0===g.length?'Tiada kadar elaun. Klik "Mula dengan Default" untuk memulakan.':"Tiada kadar elaun untuk kategori yang dipilih."}):(0,e.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:(0,e.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,e.jsx)("thead",{className:"bg-gray-50",children:(0,e.jsxs)("tr",{children:[(0,e.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Bil"}),(0,e.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kategori"}),(0,e.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Jenis"}),(0,e.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Jumlah Elaun"}),(0,e.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Jenis Pembayaran"}),(0,e.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tindakan"})]})}),(0,e.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:O.map((a,l)=>(0,e.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,e.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:l+1}),(0,e.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,e.jsx)("span",{className:"font-medium text-gray-900",children:a.kategori})}),(0,e.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,e.jsx)("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${"mualaf"===a.jenis?"bg-purple-100 text-purple-800":"bg-blue-100 text-blue-800"}`,children:"mualaf"===a.jenis?"Mualaf":"Petugas"})}),(0,e.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:(0,e.jsxs)("span",{className:"text-lg font-bold text-emerald-600",children:["RM ",a.jumlahElaun.toFixed(2)]})}),(0,e.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:a.jenisPembayaran}),(0,e.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(0,e.jsx)("button",{onClick:()=>M(a),className:"text-emerald-600 hover:text-emerald-900 mr-3",children:(0,e.jsx)(m.Edit2,{className:"h-4 w-4 inline"})}),(0,e.jsx)("button",{onClick:()=>R(a.id),className:"text-red-600 hover:text-red-900",children:(0,e.jsx)(c.Trash2,{className:"h-4 w-4 inline"})})]})]},a.id))})]})})]}),f&&(0,e.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto bg-black bg-opacity-50 flex items-center justify-center p-4",children:(0,e.jsxs)("div",{className:"bg-white rounded-lg max-w-lg w-full p-6",children:[(0,e.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,e.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:A?"Kemaskini Kadar Elaun":"Tambah Kadar Elaun Baru"}),(0,e.jsx)("button",{onClick:()=>N(!1),children:(0,e.jsx)(o.X,{className:"h-6 w-6 text-gray-400"})})]}),(0,e.jsxs)("form",{onSubmit:U,className:"space-y-4",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Jenis"}),(0,e.jsxs)("select",{required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-emerald-500 focus:border-emerald-500",value:w.jenis,onChange:a=>P({...w,jenis:a.target.value}),children:[(0,e.jsx)("option",{value:"petugas",children:"Petugas"}),(0,e.jsx)("option",{value:"mualaf",children:"Mualaf"})]})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Kategori"}),(0,e.jsx)("input",{type:"text",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-emerald-500 focus:border-emerald-500",value:w.kategori,onChange:a=>P({...w,kategori:a.target.value.toUpperCase()}),placeholder:"cth: GURU 1, MUALAF 1"})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Jumlah Elaun (RM)"}),(0,e.jsx)("input",{type:"number",step:"0.01",min:"0",required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-emerald-500 focus:border-emerald-500",value:w.jumlahElaun,onChange:a=>P({...w,jumlahElaun:parseFloat(a.target.value)})})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Jenis Pembayaran"}),(0,e.jsxs)("select",{required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2 focus:ring-emerald-500 focus:border-emerald-500",value:w.jenisPembayaran,onChange:a=>P({...w,jenisPembayaran:a.target.value}),children:[(0,e.jsx)("option",{value:"bayaran/kelas",children:"bayaran/kelas"}),(0,e.jsx)("option",{value:"bayaran/bulan",children:"bayaran/bulan"}),(0,e.jsx)("option",{value:"bayaran/hari",children:"bayaran/hari"})]})]}),(0,e.jsxs)("div",{className:"pt-4 flex justify-end space-x-3",children:[(0,e.jsx)("button",{type:"button",onClick:()=>N(!1),className:"bg-white border border-gray-300 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-50",children:"Batal"}),(0,e.jsxs)("button",{type:"submit",className:"bg-emerald-600 text-white px-4 py-2 rounded-md hover:bg-emerald-700 flex items-center",children:[(0,e.jsx)(u.Plus,{className:"h-4 w-4 mr-1"})," Simpan"]})]})]})]})})]})})}a.s(["default",()=>h])}]);