(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75254,e=>{"use strict";var a=e.i(71645);let t=(...e)=>e.filter((e,a,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===a).join(" ").trim();var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let r=(0,a.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:n="",children:c,iconNode:d,...m},o)=>(0,a.createElement)("svg",{ref:o,...s,width:r,height:r,stroke:e,strokeWidth:i?24*Number(l)/Number(r):l,className:t("lucide",n),...m},[...d.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(c)?c:[c]])),l=(e,s)=>{let l=(0,a.forwardRef)(({className:l,...i},n)=>(0,a.createElement)(r,{ref:n,iconNode:s,className:t(`lucide-${e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,l),...i}));return l.displayName=`${e}`,l};e.s(["default",()=>l],75254)},18566,(e,a,t)=>{a.exports=e.r(76562)},71689,e=>{"use strict";let a=(0,e.i(75254).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>a],71689)},69638,e=>{"use strict";let a=(0,e.i(75254).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>a],69638)},63209,e=>{"use strict";let a=(0,e.i(75254).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>a],63209)},4997,e=>{"use strict";let a=(0,e.i(75254).default)("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);e.s(["LogIn",()=>a],4997)},76359,e=>{"use strict";var a=e.i(43476),t=e.i(71645),s=e.i(18566),r=e.i(83375),l=e.i(75254);let i=(0,l.default)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),n=(0,l.default)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);var c=e.i(63209),d=e.i(4997),m=e.i(71689),o=e.i(69638);function u(){let[e,l]=(0,t.useState)("login"),[u,x]=(0,t.useState)(""),[h,p]=(0,t.useState)(""),[f,g]=(0,t.useState)(""),[b,j]=(0,t.useState)(!1),[y,k]=(0,t.useState)(""),[w,N]=(0,t.useState)({error:"",success:""}),[v,C]=(0,t.useState)(!1),{user:L,signIn:S,resetPassword:A}=(0,r.useAuth)(),M=(0,s.useRouter)();(0,t.useEffect)(()=>{L&&M.replace("/dashboard")},[L,M]);let R=async e=>{e.preventDefault(),g(""),j(!0);let a=new FormData(e.currentTarget),t=a.get("email"),s=a.get("password");if(!t||!s){g("Sila isi kedua-dua email dan kata laluan."),j(!1);return}try{(await S(t,s)).error&&(g("Email atau kata laluan tidak sah. Sila cuba lagi."),j(!1))}catch(e){g("Ralat semasa log masuk. Sila cuba lagi."),j(!1)}},E=async e=>{e.preventDefault(),N({error:"",success:""}),C(!0);try{(await A(y)).error?N({error:"Gagal menghantar email. Pastikan alamat email sah.",success:""}):(N({error:"",success:"Pautan reset kata laluan telah dihantar. Sila semak peti masuk atau folder SPAM email anda."}),k(""))}catch(e){N({error:"Ralat tidak dijangka.",success:""})}finally{C(!1)}};return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-emerald-50 via-teal-50 to-cyan-50 p-4",children:(0,a.jsxs)("div",{className:"w-full max-w-md",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-emerald-600 to-teal-600 rounded-2xl mb-4 shadow-lg",children:(0,a.jsx)(d.LogIn,{className:"h-8 w-8 text-white"})}),(0,a.jsx)("h1",{className:"text-3xl font-bold bg-gradient-to-r from-emerald-600 to-teal-600 bg-clip-text text-transparent mb-2",children:"Sistem Data Mualaf"}),(0,a.jsx)("p",{className:"text-gray-600",children:"login"===e?"Sila log masuk untuk meneruskan":"Reset Kata Laluan"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl p-8 border border-gray-100",children:["login"===e&&(0,a.jsxs)("form",{onSubmit:R,className:"space-y-6",children:[f&&(0,a.jsxs)("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded-lg flex items-start space-x-3",children:[(0,a.jsx)(c.AlertCircle,{className:"h-5 w-5 text-red-500 mt-0.5 flex-shrink-0"}),(0,a.jsx)("p",{className:"text-sm text-red-700",children:f})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"form-label flex items-center space-x-2",children:[(0,a.jsx)(i,{className:"h-4 w-4 text-emerald-600"}),(0,a.jsx)("span",{children:"Alamat Email"})]}),(0,a.jsx)("input",{name:"email",type:"email",defaultValue:u,className:"form-input",placeholder:"nama@contoh.com",required:!0,autoComplete:"email",disabled:b})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"form-label flex items-center space-x-2",children:[(0,a.jsx)(n,{className:"h-4 w-4 text-emerald-600"}),(0,a.jsx)("span",{children:"Kata Laluan"})]}),(0,a.jsx)("input",{name:"password",type:"password",defaultValue:h,className:"form-input",placeholder:"••••••••",required:!0,autoComplete:"current-password",disabled:b}),(0,a.jsx)("div",{className:"text-right mt-1",children:(0,a.jsx)("button",{type:"button",onClick:()=>{l("forgot"),k(u)},className:"text-sm text-emerald-600 hover:text-emerald-700 font-medium hover:underline",children:"Lupa / Tukar Kata Laluan?"})})]}),(0,a.jsx)("button",{type:"submit",disabled:b,className:"w-full btn-primary flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed transform transition-transform active:scale-95",children:b?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),(0,a.jsx)("span",{children:"Memuatkan..."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.LogIn,{className:"h-5 w-5"}),(0,a.jsx)("span",{children:"Log Masuk"})]})})]}),"forgot"===e&&(0,a.jsxs)("form",{onSubmit:E,className:"space-y-6",children:[w.error&&(0,a.jsxs)("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded-lg flex items-start space-x-3",children:[(0,a.jsx)(c.AlertCircle,{className:"h-5 w-5 text-red-500 mt-0.5 flex-shrink-0"}),(0,a.jsx)("p",{className:"text-sm text-red-700",children:w.error})]}),w.success&&(0,a.jsxs)("div",{className:"bg-green-50 border-l-4 border-green-500 p-4 rounded-lg flex items-start space-x-3",children:[(0,a.jsx)(o.CheckCircle,{className:"h-5 w-5 text-green-500 mt-0.5 flex-shrink-0"}),(0,a.jsx)("p",{className:"text-sm text-green-700",children:w.success})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"form-label flex items-center space-x-2",children:[(0,a.jsx)(i,{className:"h-4 w-4 text-emerald-600"}),(0,a.jsx)("span",{children:"Alamat Email"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mb-2",children:"Masukkan email anda untuk menerima pautan bagi menetapkan semula atau menukar kata laluan."}),(0,a.jsx)("input",{type:"email",value:y,onChange:e=>k(e.target.value),className:"form-input",placeholder:"nama@contoh.com",required:!0,autoComplete:"email",disabled:v})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("button",{type:"submit",disabled:v,className:"w-full btn-primary flex items-center justify-center space-x-2 disabled:opacity-50",children:v?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),(0,a.jsx)("span",{children:"Menghantar..."})]}):(0,a.jsx)("span",{children:"Hantar Pautan Reset"})}),(0,a.jsxs)("button",{type:"button",onClick:()=>{l("login"),N({error:"",success:""})},className:"w-full flex items-center justify-center space-x-2 text-gray-600 hover:text-gray-800 text-sm font-medium py-2",children:[(0,a.jsx)(m.ArrowLeft,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Kembali ke Log Masuk"})]})]})]}),(0,a.jsx)("div",{className:"mt-6 text-center text-sm text-gray-600 border-t border-gray-100 pt-4",children:(0,a.jsx)("p",{children:"Hubungi pentadbir sistem untuk bantuan"})})]}),(0,a.jsx)("p",{className:"text-center text-xs text-gray-500 mt-6",children:"Versi 1.0.0 © 2026"})]})})}e.s(["default",()=>u],76359)}]);